\chapter{Verwendet Technik}

\section{Konzept}
Der Pod wird von einem BLDC-Motor angetrieben, wobei die elektrische Energie in einem Lithium-Ionen-Akku gespeichert wird. Der Motor wird durch einen Sinuswellen-Generator gesteuert. Mit dem Speedgoat-System werden die Eingangssignale des Sinuswellen-Generators sowie andere Aktoren gesteuert.

\section{Antrieb – Golden Motor}
\label{Golden_Motor}
Golden Motor ist ein Anbieter von Elektromotoren und elektrischen Antriebssystemen. Das Unternehmen bietet eine breite Palette von Produkten an, darunter:
Motoren und Komplettsysteme für Elektrofahrräder, Industrielle BLDC-Motoren, Elektrische Antriebe für Boote.


\subsection{BLDC Motor}
\label{BLDC_Motor}


Ein BLDC-Motor (Brushless DC Motor) unterscheidet sich grundlegend von einem herkömmlichen Gleichstrommotor. Während bei einem traditionellen DC-Motor die Polumschaltung (Kommutierung) mechanisch über Kohlebürsten erfolgt, übernimmt beim BLDC-Motor eine elektronische Steuerung diese Aufgabe. Dadurch entfällt die Notwendigkeit von Kohlebürsten, was den Motor effizienter und langlebiger macht\cite{mathworks:bldc_motor}.

\begin{figure}[ht]
	\begin{center}
		\includegraphics[width=\textwidth]{img/2_antrieb/motor_1.png}
		\caption{Golden Motor – 10 KW BLDC Motor Liquid Cooled}
		\label{img_2_2:antrieb_motor:1}
	\end{center}
\end{figure}
\pagebreak[4]


Die Anschlüsse des BLDC-Motors sind in Abbildung \ref{img_2_2:circ_bldc:1} dargestellt. Der Motor verfügt über zwei Ausgänge, die jeweils mit drei Hall-Sensoren ausgestattet sind, sowie über einen Temperatursensor. Zusätzlich werden über das Kabel ein GND und eine +5V-Versorgung benötigt. Die Spulen des Motors werden über drei Phasen angeschlossen: U, V und W.

\begin{figure}[ht]
	\begin{center}
		\includegraphics[width=\textwidth]{img/2_imp/2_circ_bldc_motor.png}
		\caption{Golden Motor – Zeichnung: BLDC Motor}
		\label{img_2_2:circ_bldc:1}
	\end{center}
\end{figure}


\subsection{Vector Controller}
Der Vector Controller verwendet die Motorsteuerungstechnologie feldorientierte Regelung (Field-Oriented Control - FOC), dass bedeutet das der Controller mittels den Hallsensoren, ein Rückgekoppelten Regelkreis bildet und somit die Lage des Polrades ermittelt.

\cite{schroeder:elektische_antriebe}

Sie bietet eine effiziente Steuerung von BLDC-Motoren in Anwendungen mit variabler Drehzahl und schnell wechselnden Lasten und verbessert die Energieeffizienz von Asynchronmotoren, vor allem bei niedrigen Drehzahlen.


\begin{figure}[!ht]
	\begin{center}
		\includegraphics[width=\textwidth]{img/2_antrieb/sine_1.png}
		\caption{Golden Motor – VECTOR 500 Motor Controller}
		\label{img_2_2:antrieb_sine:1}
	\end{center}
\end{figure}


\begin{figure}[!ht]
	\begin{center}
		\includegraphics[width=\textwidth]{img/2_imp/2_circ_sine.png}
		\caption{Golden Motor – Zeichnung: Vector Controller}
		\label{img_2_2:circ_sine:1}
	\end{center}
\end{figure}
\newpage


%Dafür muss der Abstand ermittelt werden, dies wird mit einem Abstandslaser gemacht.

%Die Steuerung wird als Automaten umgesetzt. Dabei werden unterschiedliche Zustände durchlaufen, wie Idel, Drive, Distance und Stop.
\section{Steuerung – Speedgoat}

Speedgoat ist ein Unternehmen, das sich auf hochmoderne Echtzeitsysteme spezialisiert hat. Diese Systeme werden vor allem in der Entwicklung und dem Testen von komplexen Steuerungs- und Regelungssystemen eingesetzt.

\begin{figure}[!ht]
	\begin{center}
		\includegraphics[width=\textwidth]{img/2_steuerung/goat_1.png}
		\caption{Speedgoat – Baseline Real-Time Target Machine}
		\label{img_2_2:steuerung_goat:1}
	\end{center}
\end{figure}

Speedgoat-Systeme arbeiten nahtlos mit Simulink zusammen, einer Software von MathWorks, die häufig für die Modellierung und Simulation von dynamischen Systemen eingesetzt wird.
Speedgoat bietet eine breite Palette von I/O-Modulen an, die es ermöglichen, verschiedene Sensoren und Aktuatoren an die Systeme anzuschließen. Dies macht die Systeme sehr flexibel und anpassungsfähig.
Echtzeitsysteme von Speedgoat sind Computer, die in der Lage sind, Aufgaben innerhalb festgelegter Zeitintervalle auszuführen. Diese Systeme sind entscheidend für Anwendungen, bei denen die zeitliche Genauigkeit von großer Bedeutung ist, wie beispielsweise bei der Steuerung von Motoren, der Regelung von Prozessen oder der Simulation von physikalischen Systemen.
\newpage


\subsection{Verbaute Module}

Für das Projekt wird die Baseline Real-Time Target Machine verwendet. Die über die Module IO397 und IO691 verfügt.\\

\begin{figure}[!ht]
	\begin{center}
		\includegraphics[width=0.7\textwidth]{img/2_steuerung/goat_io397.png}
		\caption{Speedgoat – I/O Module 397 \cite{speedgoat:IO397}}
		\label{img_2_2:goat:IO397}
	\end{center}
\end{figure}

Das IO397 I/O-Modul ist ein mPCIe-kompatibles, in Simulink programmierbares FPGA-Modul mit 50k Logikzellen, 4 ADC-Eingangs- und 4 DAC-Ausgangskanälen, sowie 14 ESD-geschützten TTL-I/O-Leitungen. Es unterstützt eine 16-Bit-Auflösung, softwareseitig auswählbare Spannungen und ist ideal für geschlossene Regelkreise und Hardware-in-the-Loop (HIL)-Simulationen mit MATLAB und Simulink \cite{speedgoat:IO397}.


\begin{figure}[ht]
	\begin{center}
		\includegraphics[width=0.7\textwidth]{img/2_steuerung/goat_io691.png}
		\caption{Speedgoat – I/O Module 691 \cite{speedgoat:IO691}}
		\label{img_2_2:goat:IO691}
	\end{center}
\end{figure}

Das IO691 I/O-Modul bietet eine intelligente CAN-Schnittstelle mit zwei Kanälen, die sowohl flexible Datenrate CAN (CAN FD) als auch High-Speed CAN (CAN HS) unterstützen. Es ist kompatibel mit CAN 2.0A/B-Netzwerken und unterstützt SAE J1939 sowie ASAM XCP für Bypassing. Alle Signale sind über 9-polige D-Sub-Front-CAN-Anschlüsse zugänglich. Das Modul ist ideal für geschlossene Regelkreise, Hardware-in-the-Loop-Simulationen und Restbussimulationen mit MATLAB und Simulink \cite{speedgoat:IO691}.

\subsection{Verdrahtung des Speedgoats}

\begin{figure}
	\begin{center}
		\begin{minipage}{0.8\textwidth}
			\includegraphics[width=\textwidth]{img/2_steuerung/goat_2.png}
			\caption{Speedgoat – Ansicht der Modulanschlüsse}
			\label{img_2_2:steuerung_goat:2}
		\end{minipage}
		\begin{minipage}{0.8\textwidth}
			\centering
			\includegraphics[width=\textwidth]{img/2_steuerung/goat_3.png}
			\caption{Speedgoat – Ansicht der Kommunikationsschnittstellen}
			\label{img_2_2:steuerung_goat:3}
		\end{minipage}
	\end{center}
\end{figure}

Um mit den IO397 eine Verbingung herzustellen, muss an dem Speedgaot das Kabel *** an den Anschluss 'IO-Modul 1' siehe Abbildung \ref{img_2_2:steuerung_goat:2} angeschlossen werden.

\begin{itemize}
	\item Module anschließen, also wie schließe ich ein Sensor an oder ein Motor.
	\item Router anschließen
	\item mit dem Netzwerk verbinden also die Start IP und so
\end{itemize}



\newpage


\section{Abstandsmessung}
\begin{figure}[ht]
	\begin{center}
		\includegraphics[width=\textwidth]{img/2_sen/dis_1.png}
		\caption{Pepperl+Fuchs – Distanzsensor}
		\label{img_2_2:sen_dis:1}
	\end{center}
\end{figure}





\section{Speicher}

\begin{figure}[!ht]
	\begin{center}
		\includegraphics[width=\textwidth]{img/2_speicher/speicher.png}
		\caption{DeepCPower – Lithium Batterie 50Ah | 51,2V | 2560Wh}
		\label{img_2_2:speicher_1:1}
	\end{center}
\end{figure}


